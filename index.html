<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor Proyectos - Zoom Central & Paneo</title>
    <style>
        /* --- 1. ESTRUCTURA BASE --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #1a1a1a;
            font-family: sans-serif;
        }

        /* Contenedor principal */
        #contenedor-visor {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* El Iframe */
        #visor {
            width: 100%; 
            height: 100%;
            border: none;
            background-color: #fff;
            transform-origin: center center;
            transition: transform 0.1s linear;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        /* --- 2. FLECHAS DE CAMBIO DE PÁGINA --- */
        .flecha-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.2);
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
            text-shadow: 0 0 10px #000;
        }
        .flecha-nav:hover {
            color: rgba(255, 255, 255, 1);
            transform: translateY(-50%) scale(1.2);
        }
        #nav-izq { left: 20px; }
        #nav-der { right: 20px; }

        /* --- 3. PANEL DE CONTROL --- */
        #panel-control {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            background-color: rgba(0, 0, 0, 0.85);
            border-radius: 20px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            backdrop-filter: blur(5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.6);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .grupo-move {
            display: grid;
            grid-template-columns: 30px 30px 30px;
            grid-template-rows: 30px 30px;
            gap: 5px;
            align-items: center;
            justify-items: center;
        }

        .grupo-zoom {
            display: flex;
            align-items: center;
            gap: 10px;
            border-left: 1px solid rgba(255,255,255,0.3);
            padding-left: 20px;
        }
        
        /* NUEVO ESTILO PARA EL GRUPO DE INFORMACIÓN */
        .grupo-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-left: 1px solid rgba(255,255,255,0.3);
            padding-left: 20px;
            color: white;
            min-width: 150px; /* Evita que salte mucho al cambiar nombres */
        }

        #nombre-archivo {
            font-size: 0.95rem;
            font-weight: bold;
            margin-bottom: 3px;
            color: #fff;
        }

        .atajo-texto {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
            user-select: none;
        }
        .btn:hover { background: rgba(255,255,255,0.3); }
        .btn:active { background: rgba(255,255,255,0.5); }

        .btn-move { width: 100%; height: 100%; font-size: 12px; }
        .btn-zoom { width: 40px; height: 40px; border-radius: 50%; font-size: 18px; }
        
        .arriba { grid-column: 2; grid-row: 1; }
        .abajo  { grid-column: 2; grid-row: 2; }
        .izq    { grid-column: 1; grid-row: 2; }
        .der    { grid-column: 3; grid-row: 2; }

        #indicador-zoom {
            color: white;
            font-family: monospace;
            min-width: 50px;
            text-align: center;
        }

        .btn-reset {
            font-size: 0.8rem;
            padding: 0 15px;
            height: 40px;
            border-radius: 20px;
            background-color: rgba(255, 50, 50, 0.2);
            border-color: rgba(255, 50, 50, 0.4);
        }
        .btn-reset:hover { background-color: rgba(255, 50, 50, 0.5); }

    </style>
</head>
<body>

    <div id="contenedor-visor">
        <iframe id="visor" src=""></iframe>
    </div>

    <div id="nav-izq" class="flecha-nav" onclick="cambiarPagina(-1)">&#10094;</div>
    <div id="nav-der" class="flecha-nav" onclick="cambiarPagina(1)">&#10095;</div>

    <div id="panel-control">
        <div class="grupo-move">
            <button class="btn btn-move arriba" onclick="mover(0, 100)">&#9650;</button>
            <button class="btn btn-move izq"    onclick="mover(100, 0)">&#9664;</button>
            <button class="btn btn-move abajo"  onclick="mover(0, -100)">&#9660;</button>
            <button class="btn btn-move der"    onclick="mover(-100, 0)">&#9654;</button>
        </div>

        <div class="grupo-zoom">
            <button class="btn btn-zoom" onclick="cambiarZoom(-0.1)">&#8722;</button>
            <span id="indicador-zoom">100%</span>
            <button class="btn btn-zoom" onclick="cambiarZoom(0.1)">&#43;</button>
            <button class="btn btn-reset" onclick="resetTodo()">Reset</button>
        </div>

        <div class="grupo-info">
            <span id="nombre-archivo">Cargando...</span>
            <span class="atajo-texto">Ctrl + flechas para pasar página</span>
        </div>
    </div>

    <script>
        // --- CONFIGURACIÓN ---
        const paginas = [
            "prueba.html", "prueba2.html", "prueba3.html", 
            "prueba4.html", "prueba5.html", "prueba6.html",
            "prueba7.html", "prueba8.html", "prueba9.html", 
            "prueba10.html", "prueba11.html", "prueba12.html",
            "prueba13.html", "prueba14.html", "prueba15.html",
            "prueba16.html", "prueba17.html", "prueba18.html",
            "prueba19.html", "prueba20.html", "prueba21.html", 
            "prueba22.html", "prueba23.html", "prueba24.html",
            "prueba25.html", "prueba26.html", "prueba27.html",
            "prueba28.html", "prueba29.html", "prueba30.html",
            "prueba31.html", "prueba32.html", "prueba33.html",
            "prueba34.html", "prueba35.html", "prueba36.html",
            "prueba37.html", "prueba38.html", "prueba39.html",
            "prueba30b.html", "prueba40.html", "prueba41.html",
            "prueba42.html", "prueba43.html", "prueba44.html",
            "prueba45.html", "prueba46.html", "prueba47.html",
            "prueba48.html", "prueba49.html", "prueba50.html",
            "prueba51.html", "prueba52.html", "prueba53.html",
            "prueba54.html", "prueba55.html", "prueba56.html"
        ];

        let indiceActual = 0;
        let zoom = 1;
        let posX = 0;
        let posY = 0;

        const visor = document.getElementById('visor');
        const indicadorZoom = document.getElementById('indicador-zoom');
        const nombreArchivoDisplay = document.getElementById('nombre-archivo');

        function iniciar() {
            if (paginas.length > 0) {
                visor.src = paginas[0];
                actualizarInfo();
            }
        }

        function actualizarInfo() {
            nombreArchivoDisplay.innerText = paginas[indiceActual];
        }

        function cambiarPagina(dir) {
            indiceActual += dir;
            if (indiceActual < 0) indiceActual = paginas.length - 1;
            else if (indiceActual >= paginas.length) indiceActual = 0;

            visor.src = paginas[indiceActual];
            actualizarInfo(); // Actualiza el nombre del archivo
            resetTodo(); 
        }

        function aplicarTransformacion() {
            indicadorZoom.innerText = Math.round(zoom * 100) + "%";
            visor.style.transform = `translate(${posX}px, ${posY}px) scale(${zoom})`;
        }

        function cambiarZoom(delta) {
            zoom = Math.round((zoom + delta) * 10) / 10;
            if (zoom < 0.1) zoom = 0.1;
            if (zoom > 6.0) zoom = 6.0;
            aplicarTransformacion();
        }

        function mover(x, y) {
            posX += x;
            posY += y;
            aplicarTransformacion();
        }

        function resetTodo() {
            zoom = 1;
            posX = 0;
            posY = 0;
            aplicarTransformacion();
        }

        // --- ATAJOS DE TECLADO ---
        document.addEventListener('keydown', (e) => {
            // Navegación páginas (Ctrl + Flechas)
            if (e.ctrlKey && e.key === "ArrowLeft") cambiarPagina(-1);
            if (e.ctrlKey && e.key === "ArrowRight") cambiarPagina(1);

            // Movimiento (Flechas solas - Solo si NO se pulsa Ctrl)
            if (!e.ctrlKey && e.key === "ArrowUp") mover(0, 50);
            if (!e.ctrlKey && e.key === "ArrowDown") mover(0, -50);
            if (!e.ctrlKey && e.key === "ArrowLeft") mover(50, 0);
            if (!e.ctrlKey && e.key === "ArrowRight") mover(-50, 0);

            // Zoom (+ / -)
            if (e.key === "+" || e.key === "=") cambiarZoom(0.1);
            if (e.key === "-" || e.key === "_") cambiarZoom(-0.1);
            
            // Reset (0)
            if (e.key === "0") resetTodo();
        });

        iniciar();
    </script>
</body>
</html>